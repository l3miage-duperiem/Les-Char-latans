---
title: "Rendu Charlatans"
author: "COLOMBAN Nathan, DELEUZE-DORDRON Axel, DUPERIER-CATALAZ Mathis, SPINNLER Paul, TIDJANI Manyl"
date: '2025-04-15'
output:
  html_document:
    latex_engine: xelatex
    toc: true
    toc_depth: 3
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r echo=FALSE, include=FALSE}
library(tidyverse)
library(kableExtra)
options(tibble.print_max = Inf)
```

```{r echo=FALSE, include=FALSE}
totals_by_type <- read.delim("./OryxData/totals_by_type.csv",sep = ",")
totals_by_system <- read.delim("./OryxData/totals_by_system.csv",sep = ",")
all_vehicles <- totals_by_system
```

# Introduction

## Contexte
Depuis le début de l'invasion de l'Ukraine par la Russie en février 2022, de nombreuses sources tentent de documenter les pertes militaires des deux camps. Parmi elles, le collectif indépendant Oryx propose une base de données visuelle et systématique des équipements militaires perdus. Leur méthodologie repose sur des preuves visuelles publiquement disponibles (photos, vidéos géolocalisées), complétées dans de rares cas par des confirmations officielles.

Le répertoire Github est géré par Daniel P. Scarnecchia, chercheur à la Harvard Humanitarian Initiative (HHI). Il dirige les travaux sur les normes et l’éthique au sein du Signal Program on Human Security and Technology. Son travail porte sur l’impact de la technologie en contexte de crise, l’éthique de la donnée et les pratiques de recherche fondées sur des preuves réelles dans le secteur humanitaire.

Le Harvard Humanitarian Initiative, rattaché à l'École de Santé Publique T.H. Chan, est un centre interdisciplinaire dont l’objectif est de réduire les souffrances humaines en zones de guerre ou de catastrophe, par la recherche appliquée, la formation, et l’élaboration de stratégies humanitaires plus efficaces et respectueuses des droits humains.

### Problématique: Comment évolue les pertes de chars d'assaut durant l'invasion Russe en Ukraine ?

### Description de l'ensemble de données

Le jeu de données utilisé dans cette étude est directement issu de ces inventaires rigoureux. Il se compose de 2 tables principales :

**daily_count.csv** : Fournit une comptabilisation quotidienne des pertes d’équipements selon leur type (char, avion, etc.) et leur statut (détruit, abandonné, capturé, endommagé).

**total_by_system.csv** : Détaille chaque observation individuelle d’équipement perdu, avec son pays d’origine, son statut, et un lien vers la preuve visuelle.

De ces tables en résulte d'autres aggrégats, seule une nous sera utile ici:

**totals_by_type.csv** : Agrège les pertes totales par pays et par type d’équipement.

Les données présentent des limitations: elles sont conservatrices par nature, car seules les pertes confirmées visuellement sont comptabilisées, ce qui sous-estime probablement les pertes réelles. Toutefois, cette rigueur méthodologique garantit un niveau de fiabilité élevé sur les données recensées. Elles sont issues d’images ou vidéos, le plus souvent prises par drone, postées publiquement sur des réseaux sociaux tels que X (anciennement Twitter) ou Telegram, puis analysées par des passionnés d’OSINT (Open Source INTelligence). Leur travail est d’excellente qualité, suffisamment pour être reconnu comme tel par David Howell Petraeus, ancien général américain et directeur de la CIA sous la première administration Obama, ou être cité dans des grands médias comme Reuters ou la BBC. De part la méthodologie d’Oryx, seules les pertes ayant une preuve visuelle sont comptabilisées.

## Objectif de l'étude

Cette étude vise à analyser l’évolution des pertes de chars d’assaut au cours du conflit russo-ukrainien. En particulier, elle cherche à mettre en évidence les tendances temporelles de ces pertes et à les corréler avec des événements historiques autour du conflit (offensives majeures, contre-attaques, annonces stratégiques, fabrication des chars d'assaut,etc.).

# Méthodologie

## Procédures de nettoyage des données

Tout d'abord, l'ensemble des pertes visuellement confirmées de MBT (détruits, abandonnés, capturés ou endommagés) par pays entre le 24/02/2022 et le 07/04/2025 dans la guerre Russo-Ukrainienne sont regroupées.

```{r echo=FALSE}
total_tank_losses <- totals_by_type %>% 
  filter(grepl('Tanks', equipment_type)) %>%
  filter(!grepl('Losses', equipment_type))

# Reformater pour affichage
formatted_table <- total_tank_losses %>%
  select(-equipment_type) %>%
  pivot_longer(
    cols = -country,
    names_to = "Status",
    values_to = "Count"
  ) %>%
  pivot_wider(
    names_from = country,
    values_from = Count
  ) %>%
  relocate(Status)

# Affichage tableau
formatted_table %>%
  kable(caption = "Pertes totales de chars par type de statut") %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed"), full_width = FALSE)
```

Avant d'aller plus loin, il est important de définir ce qu'est un MBT (Main Battle Tank ou char de bataille, communément appelé tank ou char d'assaut). Un MBT est un véhicule lourdement blindé et armé d'un canon principal et d'au moins une mitrailleuse. Son rôle sur le champ de bataille et d'offrir un soutient à l'infanterie en étant le fer de lance lors de assaut pour permettre une percée des lignes de défense ennemies, ainsi que l'exploitation de ces percées, c'est à dire profiter de sa
mobilité pour prendre de cours les lignes ennemis en les attaquants par les flancs ou par l'arrière ou encore en perturbant les lignes d'approvisionnement, pour forcer l'ennemi à abandonner ses positions et reculer. Concrètement cela se traduit par un blindage permettant de faire face à la plupart des armes ennemies, un canon permettant d'engager les autres blindés et les poches de résistance, comme un bunker ou un nid de mitrailleuse et des sous-systèmes d'acquisition d'information et de communication permettant une bonne coopération avec les forces alliées au travers d'une bonne conscience situationnelle.

Il a été décidé de répartir les différents modèles de MBT en fonction de leur niveau de modernité dans quatre catégories (colonne age): 

- **obsolete** : le modèle ne peut pas remplir son rôle. Cela peut s'expliquer par un blindage ou un armement peu efficace ou un manque de sous-systèmes modernes (optiques thermiques commandant et tireur de deuxième génération ou plus, conduite de tir automatisée, commandes tireurs dédoublées pour le commandant de char, DAL (Détecteur d'Alerte Laser), ...) 

- **old** : le modèle peine à remplir son rôle. Cela vient de sous-systèmes datés et donc moins performant, voir du manque de certains sous-systèmes aujourd'hui jugé critique. Ca se traduit le plus souvent par un manque de conscience situationnelle. 

- **modern** : le modèle remplit correctement son rôle. Il jouit de sous-systèmes modernes voir dernière génération tels que des optiques thermiques de troisième génération pour le commandant et le tireur. 

- **unknown** : l'identification n'est pas assez précise pour déterminer le modèle exacte.

Une autre catégorisation qui est déjà faite par le jeu de donnée est le __"status"__. Puisqu'il n'est question ici que de pertes avec une preuve visuelle et que toutes les pertes ne se valent pas, le matériel est classé dans l'une des quatres catégories suivantes :

- **captured** : l'équipement a été récupéré par le camp adverse
![*T72B3 capturé*](ressources/MBT_captured.jpg)


- **abandonned** : montre des signes d'abandons, souvent en combinaison avec des dégâts. L'équipement abandonné dans une zone sûre controlée par seulement l'un des deux camps ne figure pas dans ce jeu de donnés.
![*T72B3 abandonné*](ressources/MBT_abandonned.jpg)


- **damaged** : l'équipement a été endommagé au delà de ce qui est rapidement / facilement réparable
![*T72B3 endommagé*](ressources/MBT_damaged.jpg)


- **destroyed** : l'équipement est détruit à tel point qu'il n'est pas réparable, ou du moins pas d'une façon économiquement viable, autrement dit il est moins cher d'en reconstruire un neuf du même modèle ou d'en réactiver un, en fonction de si il s'agit d'un modèle encore en production ou issu des stocks légués par l'URSS.
![*T72B3 détruit*](ressources/MBT_destroyed.jpg)


Découpage en sous tables des MBT de la série T (conception soviétique)
en fonction des grandes familles de modèles :

- **T-50 (T-54, T55)**: reliques du passé, conception du début des années 50

- **T-60 (T-62, T-64)**: obsolètes, conception du début des années 60

- **T-72** : table redécoupée plus loin en fonction du niveau de sa génération, conception de la fin des années 60

    -   Note : les PT-91 sont une variante modernisée polonaise du T72,
        d'où leur inclusion ci-dessous

- **T-80** : table redécoupée plus loin en fonction du niveau sa génération, conception repartant de la base du T-60 datant de la fin des années 70

- **T-90** : table redécoupée plus loin en fonction du niveau sa génération, conception repartant de la base du T-72 et incorporant des sous-systèmes du T-80 datant de la fin des années 80, tous les modèles ont été construit après la dissolution de l'URSS en 1991.

```{r echo=FALSE}
all_Tseries_without_battalion_number <- all_vehicles %>%
  mutate(system = sub("[0-9]*", "", system)) %>%
  filter(grepl('T-[5-9]|PT-91', system)) 

T50_tanks <- all_Tseries_without_battalion_number %>%
  filter(grepl('T-5', system)) %>%
  mutate(system_family = 'T-50 serie') %>%
  mutate(age = 'obsolete')

T60_tanks <- all_Tseries_without_battalion_number %>%
  filter(grepl('T-6', system)) %>%
  mutate(system_family = 'T-60 serie') %>%
  mutate(age = 'obsolete')

T72_tanks <- all_Tseries_without_battalion_number %>%
  filter(grepl('T-72|PT-91', system)) %>%
  mutate(system_family = 'T-72 serie') %>%
  mutate(age = 'obsolete')

T80_tanks <- all_Tseries_without_battalion_number %>%
  filter(grepl('T-8', system)) %>%
  mutate(system_family = 'T-80 serie') %>%
  mutate(age = 'old')

T90_tanks <- all_Tseries_without_battalion_number %>%
  filter(grepl('T-90', system)) %>%
  mutate(system_family = 'T-90 serie') %>%
  mutate(age = 'old')
```

Découpage en sous tables des modèles de la famille des T72 :

```{r}
T72_obsolete <- T72_tanks %>%
  filter(grepl('A|B|Ural|T-72', system)) %>%
  filter(!grepl('Obr.|2022|B3|EA', system))

T72_old <- T72_tanks %>%
  filter(grepl('1989|M|EA', system)) %>%
  filter(!grepl('AMT', system)) %>%
  mutate(age = 'old')

T72_modern <- T72_tanks %>%
  filter(grepl('2014|2022|B3|PT', system)) %>%
  mutate(age = 'modern')

T72_unknown <- T72_tanks %>%
  filter(grepl('Unknown', system)) %>%
  mutate(age = 'unknown')
```

Découpage en sous tables des modèles de la famille des T80:

```{r echo}
T80_old <- T80_tanks %>%
  filter(grepl('B|U', system)) %>%
  filter(!grepl('BVM|2022|UD', system))

T80_modern <- T80_tanks %>%
  filter(grepl('BVM|2022|UD', system)) %>%
  mutate(age = 'modern')

T80_unknown <- T80_tanks %>%
  filter(grepl('Unknown', system)) %>%
  mutate(age = 'unknown')
```

Découpage en sous tables des modèles de la famille des T90:

```{r echo}
T90_old <- T90_tanks %>%
  filter(grepl('A|S', system))

T90_modern <- T90_tanks %>%
  filter(grepl('M', system)) %>%
  mutate(age = 'modern')

T90_unknown <- T90_tanks %>%
  filter(grepl('Unknown', system)) %>%
  mutate(age = 'unknown')
```

Table contenant tous les MBT qui ne sont pas de la série T (conception OTAN)

```{r echo}
all_NATO_without_battalion_number <- totals_by_system %>%
  mutate(system = sub("[0-9]*", "", system)) %>%
  filter(!grepl('Russia|Soviet Union', origin)) %>%
  filter(grepl('Leopard|Abrams|Challenger|Stridsvagn',system)) %>%
  filter(!grepl('mine-clearing|Recovery',system)) %>%
  mutate(system_family = 'NATO') %>%
  mutate(age = 'modern')

NATO_MBT_old <- all_NATO_without_battalion_number %>%
  filter(grepl('Leopard 1', system)) %>%
  mutate(age = 'old')

NATO_MBT_modern <- all_NATO_without_battalion_number %>%
  filter(!grepl('Leopard 1', system))
```


1. Évolution temporelle des pertes par grande famille (serie T vs OTAN)
But : Voir si certaines séries (T-72, T-80, T-90, OTAN) ont connu des pics de pertes à des moments clés du conflit.

```{r echo=FALSE}
# 1) Calculer les pertes journalières totales par famille, par pays
time_series <- all_MBTs %>%
  mutate(date_recorded = as.Date(date_recorded)) %>%
  group_by(country, system_family, date_recorded) %>%
  summarise(pertes = n(), .groups = "drop") %>%
  arrange(country, system_family, date_recorded) %>%
  group_by(country, system_family) %>%
  mutate(cum_pertes = cumsum(pertes)) %>%
  ungroup()

# 2) Filtrer les données de la Russie
rus_time_series <- time_series %>%
  filter(country == "Russia")

# 3) Filtrer les données de l'Ukraine
ukr_time_series <- time_series %>%
  filter(country == "Ukraine")

# 4) Définir une palette cohérente
famille_couleurs <- c(
  "T-50 serie" = "#1f77b4",
  "T-60 serie" = "#ff7f0e",
  "T-72 serie" = "#2ca02c",
  "T-80 serie" = "#d62728",
  "T-90 serie" = "#9467bd",
  "NATO" = "#F0E442"
)

# 5) Graphique pour la Russie
ggplot(rus_time_series, aes(x = date_recorded, y = cum_pertes, color = system_family)) +
  geom_line(linewidth = 1) +
  scale_color_manual(values = famille_couleurs) +
  labs(
    title = "Pertes cumulées des chars russes par famille (2022–2024)",
    x = "Date",
    y = "Pertes cumulées",
    color = "Famille"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

# 6) Graphique pour l'Ukraine
ggplot(ukr_time_series, aes(x = date_recorded, y = cum_pertes, color = system_family)) +
  geom_line(linewidth = 1) +
  scale_color_manual(values = famille_couleurs) +
  labs(
    title = "Pertes cumulées des chars ukrainiens par famille (2022–2024)",
    x = "Date",
    y = "Pertes cumulées",
    color = "Famille"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```
__Analyse:__
 Au début du conflit, une grande quantité de T-72 est déployée, étant donné le stock emmagasiné entre les années 1967-1973. Le fait que le T-72, un char très répandu dans l'inventaire russe, ait subi des pertes importantes dès les premières semaines a également eu une signification particulière. Cela laissait présager le rôle essentiel que les vastes stocks de l'ère soviétique joueraient pour soutenir le conflit, car la flotte opérationnelle moderne de la Russie s'est avérée insuffisante et très vulnérable. Les pertes précoces de ce modèle spécifique suggéraient que la Russie puisait massivement dans ses réserves plus anciennes et moins capables beaucoup plus tôt que prévu, orientant le conflit vers une nature plus longue et plus coûteuse. La phase initiale de l'invasion a été marquée par des tentatives russes d'avancées rapides, de longs convois et des efforts pour s'emparer rapidement de villes et d'infrastructures clés. Cela a conduit à de nombreuses confrontations dans des environnements variés : champs ouverts, routes, zones urbaines et suburbaines.
Les pertes élevées précoces des T-72 ont servi d'indicateur précoce et sévère que l'armée russe, malgré sa taille et le nombre de ses équipements, n'était pas préparée à un conflit de haute intensité, contesté technologiquement, contre un adversaire déterminé et bien équipé. De nombreux chars issus du stockage étaient en mauvais état, nécessitant des réparations importantes ou n'étant utilisables que pour des pièces détachées. Les variantes plus anciennes manquaient des systèmes de protection et de conduite de tir les plus récents, ce qui en faisait des cibles plus faciles. Les pannes mécaniques dues à l'âge et à un mauvais entretien ont probablement entraîné l'abandon de véhicules, qui ont ensuite été capturés ou détruits. Les forces russes n'ont pas réussi à supprimer efficacement les équipes antichars et les opérateurs de drones ukrainiens. 

```{r echo=FALSE}
all_MBTs <- NATO_MBT_modern %>%
  union(T72_modern) %>%
  union(T80_modern) %>%
  union(T90_modern) %>%
  union(NATO_MBT_old) %>%
  union(T72_old) %>%
  union(T80_old) %>%
  union(T90_old) %>%
  union(T50_tanks) %>%
  union(T60_tanks) %>%
  union(T72_obsolete) %>%
  union(T72_unknown) %>%
  union(T80_unknown) %>%
  union(T90_unknown)

all_MBTs$status <- factor(all_MBTs$status, levels = c("captured", "abandoned", "damaged", "destroyed"))
all_MBTs$age <- factor(all_MBTs$age, levels = c("modern", "old", "obsolete", "unknown"))

totals_by_family <- all_MBTs %>%
  ggplot() +
  geom_bar(mapping = aes(x=system_family, fill = country), stat = "count", width = 0.5)
  
totals_by_age <- all_MBTs %>%
  ggplot() +
  geom_bar(mapping = aes(x=age, fill = country), stat = "count", width = 0.5) 

totals_by_age_proportion <- all_MBTs %>%
  ggplot(aes(age, fill = country)) +
  geom_bar(position = "fill") +
  scale_y_continuous(name = "percent",
                     breaks = seq(0, 1, by = 0.1),
                     labels = scales::percent_format())

totals_by_country_by_age <- all_MBTs %>%
  ggplot() +
  geom_bar(mapping = aes(x=country, fill = age), stat = "count", width = 0.90) +
  scale_fill_manual(
    values = c("modern" = "#4fc3f7", "old" = "#ba68c8", "obsolete" = "#d32f2f", "unknown" = "#A0A0A0"),
    breaks = c("modern", "old", "obsolete", "unknown"),
    name = "Age Category"
  )

totals_by_country_by_age_proportion <- all_MBTs %>%
  ggplot(aes(country, fill = age)) +
  geom_bar(position = "fill") +
  scale_y_continuous(name = "percent",
                     breaks = seq(0, 1, by = 0.1),
                     labels = scales::percent_format()) +
  scale_fill_manual(
    values = c("modern" = "#4fc3f7", "old" = "#ba68c8", "obsolete" = "#d32f2f", "unknown" = "#A0A0A0"),
    breaks = c("modern", "old", "obsolete", "unknown"),
    name = "Age Category"
  )

totals_by_country_by_age
totals_by_country_by_age_proportion
```

2. Parts relatives des statuts de perte (destroyed/damaged/abandoned/captured)
But : Voir comment se répartissent les statuts pour les chars (par pays ou par famille).

```{r echo=FALSE}
# 1. Préparer le breakdown par status
status_breakdown <- all_MBTs %>%
  group_by(country, status) %>%
  summarise(count = n(), .groups = "drop") %>%
  # 2. Forcer la présence de tous les status pour chaque pays
  complete(country, status, fill = list(count = 0)) %>%
  group_by(country) %>%
  # 3. Calculer la part en pourcentage
  mutate(
    total_country = sum(count),
    pct = if_else(total_country > 0, count / total_country, 0),
    label = if_else(
      pct > 0,
      paste0(round(pct * 100, 1), "%"),
      ""                    # pas d'étiquette si 0%
    )
  ) %>%
  ungroup()

# 4. Tracer les camemberts
ggplot(status_breakdown, aes(x = 1, y = pct, fill = status)) +
  geom_col(width = 1, color = "white") +
  coord_polar(theta = "y") +
  # 5. Ajouter les labels de pourcentage centrés dans chaque tranche
  geom_text(aes(label = label),
            position = position_stack(vjust = 0.5),
            size = 3, color = "white") +
  facet_wrap(~ country) +
  labs(
    title = "Répartition des statuts de perte pour les chars",
    fill = "Statut"
  ) +
  theme_void() +
  theme(
    strip.text = element_text(face = "bold"),
    plot.title = element_text(hjust = 0.5)
  )
```


```{r echo=FALSE}
total_tank_losses <- totals_by_type %>% 
  filter(grepl('Tanks', equipment_type)) %>%
  filter(!grepl('Losses', equipment_type))

total_destroyed_per_nation <- totals_by_system %>%
  dplyr::mutate(system = sub("^\\d+", "", system)) %>%
  dplyr::filter(grepl(' T-', system)) %>%
  dplyr::filter(grepl('destroyed', status)) %>%
  group_by(country)

total_damaged_per_nation <- totals_by_system %>%
  dplyr::mutate(system = sub("^\\d+", "", system)) %>%
  dplyr::filter(grepl(' T-', system)) %>%
  dplyr::filter(grepl('damaged', status)) %>%
  group_by(country)

total_captured_per_nation <- totals_by_system %>%
  dplyr::mutate(system = sub("^\\d+", "", system)) %>%
  dplyr::filter(grepl(' T-', system)) %>%
  dplyr::filter(grepl('captured', status)) %>%
  group_by(country)

total_abandoned_per_nation <- totals_by_system %>%
  dplyr::mutate(system = sub("^\\d+", "", system)) %>%
  dplyr::filter(grepl(' T-', system)) %>%
  dplyr::filter(grepl('abandoned', status)) %>%
  group_by(country)

# Fusion des totaux par état
df_tank_losses <- bind_rows(
  total_destroyed_per_nation %>% summarise(total = n()) %>% mutate(type = "Destroyed"),
  total_damaged_per_nation %>% summarise(total = n()) %>% mutate(type = "Damaged"),
  total_captured_per_nation %>% summarise(total = n()) %>% mutate(type = "Captured"),
  total_abandoned_per_nation %>% summarise(total = n()) %>% mutate(type = "Abandoned")
)

ggplot(df_tank_losses, aes(x = country, y = total, fill = type)) +
  geom_bar(stat = "identity", position = "dodge") +
  labs(title = "Pertes de chars par pays et par état", y = "Nombre de chars", x = "Pays") +
  theme_minimal()
```


# Analyse des données

Graphiques des pertes visuellement confirmées par mois ou par années et par pays

```{r}
all_MBTs_losses_per_month <- all_MBTs %>%
  # On exclus le  mois d'avril car il n'est pas terminé et pourrait biaiser l'impression faite au lecteur
  filter(!grepl('2025-04', date_recorded)) %>%
  mutate(date_recorded = sub('.{3}$','',date_recorded))

all_MBTs_losses_per_year <- all_MBTs_losses_per_month %>%
  # On exclue l'année 2025 car elle n'est pas terminée et pourrait biaiser l'impression faite au lecteur
  filter(!grepl('2025', date_recorded)) %>%
  mutate(date_recorded = sub('.{3}$','',date_recorded))

totals_losses_by_month <- all_MBTs_losses_per_month %>%
  ggplot() +
  geom_bar(mapping = aes(x=date_recorded, fill = country), stat = "count", width = 0.5) 

totals_losses_by_year <- all_MBTs_losses_per_year %>%
  ggplot() +
  geom_bar(mapping = aes(x=date_recorded, fill = country), stat = "count", width = 0.5) 

# all_MBTs_losses_per_month
totals_losses_by_month
totals_losses_by_year
```

Graphiques de la ditribution des pertes visuellement confirmées en fonction de la tranche d'age

```{r echo=FALSE}
distribution_losses_per_age_and_per_month <- all_MBTs_losses_per_month %>%
  ggplot(aes(date_recorded, fill = age)) +
  geom_bar(position = "fill") +
  scale_y_continuous(name = "percent",
                     breaks = c(0, 0.25, 0.5, 0.75, 1), 
                     labels = scales::percent(c(0, 0.25, 0.5, 0.75, 1)))
  
distribution_losses_per_age_and_per_month
```

Graphiques de la distribution des types de pertes visuellement confirmées par mois

```{r fig.align="center", fig.width = 10}
distribution_losses_by_status_per_month <- all_MBTs_losses_per_month %>%
  ggplot(aes(date_recorded, fill = status)) +
  geom_bar(position = "fill", width = 0.65) +
  scale_y_continuous(name = "percent",
                     breaks = seq(0, 1, by = 0.1),
                     labels = scales::percent_format()) +
  scale_fill_manual(
    values = c("captured" = "#3f1fb9", "abandoned" = "#4fc3f7", "damaged" = "#ba68c8", "destroyed" = "#d32f2f"),
    breaks = c("captured", "abandoned", "damaged", "destroyed"),
    name = "Status"
  ) + 
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))

distribution_losses_by_status_per_month
```
Une hypothèse que nous pouvons raisonnablement proposer est que le niveau de modernité des MBT à une influence sur les pertes.

Graphiques des totaux de pertes par catégorie d'âge et de la distribution des types de pertes visuellement confirmées en fonction de la catégorie d'âge

```{r}
totals_losses_by_age <- all_MBTs %>%
  ggplot() +
  geom_bar(mapping = aes(x=age), stat = "count", width = 0.5)+theme_minimal()

distribution_losses_by_age_and_by_status <- all_MBTs %>%
  ggplot(aes(age, fill = status)) +
  geom_bar(position = "fill", width = 0.65) +
  scale_y_continuous(name = "percent",
                     breaks = seq(0, 1, by = 0.1),
                     labels = scales::percent_format()) +
  scale_fill_manual(
    values = c("captured" = "#3f1fb9", "abandoned" = "#4fc3f7", "damaged" = "#ba68c8", "destroyed" = "#d32f2f"),
    breaks = c("captured", "abandoned", "damaged", "destroyed"),
    name = "Status"
  ) + 
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))

distribution_losses_by_age_and_by_status2 <- all_MBTs %>%
  group_by(age) %>%
  count(status) %>%
  mutate(percent = n/sum(n)) %>% 
  select(-n) %>%
  ggplot(aes(x=status, fill=age, y=percent))+
  geom_col() + 
  facet_grid(~age) +
  coord_cartesian(ylim = c(0,1)) +
  scale_y_continuous(name = "percent",
                     breaks = seq(0, 1, by = 0.1),
                     labels = scales::percent_format()) +
  xlab("Status") +
  ggtitle("Distribution of reported status for each MBT generation") +
  scale_fill_manual(
    values = c("modern" = "#3f1fb9", "old" = "#4fc3f7", "obsolete" = "#ba68c8", "unknown" = "#d32f2f"),
    breaks = c("modern", "old", "obsolete", "unknown"),
    name = "Generation"
  ) + 
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))

totals_losses_by_age
distribution_losses_by_age_and_by_status
distribution_losses_by_age_and_by_status2

```
(Bonus). Comparaison OTAN vs série T
But : Savoir si les chars OTAN (Abrams, Leopard, Challenger…) ont été plus ou moins touchés que les T-series.

```{r echo=FALSE}
comparaison <- all_MBTs %>%
  group_by(country, system_family) %>%
  summarise(pertes = n(), .groups = "drop")

ggplot(comparaison, aes(x = system_family, y = pertes, fill = country)) +
  geom_col(position = "dodge") +
  labs(
    title = "Comparaison des pertes de chars OTAN vs T-series",
    x = "Famille de chars",
    y = "Nombre de pertes",
    fill = "Camp"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```

# Conclusion

# References
**lien du dépôt GitHub:** https://github.com/scarnecchia/oryx_data
**Méthodologie Oryx:** <https://x.com/Rebel44CZ/status/1878490738243068330>
**Le Council on Foreign Relations:** https://www.cfr.org/global-conflict-tracker/conflict/conflict-ukraine
https://www.thefivecoatconsultinggroup.com/the-coronavirus-crisis/ukraine-context-d47
**hypothèses d'avant-guerre sur l'efficacité militaire russe et les capacités défensives ukrainiennes**:https://www.thefivecoatconsultinggroup.com/the-coronavirus-crisis/ukraine-context-d47
https://kyivindependent.com/as-russian-tank-losses-in-ukraine-continue-to-mount-heres-what-you-need-to-know/

**Why have Russian tanks struggled in Ukraine?**: https://www.iwm.org.uk/history/why-have-russian-tanks-struggled-in-ukraine
**Russia’s T-72 Tank Is Getting Blown To Pieces in Ukraine**: https://nationalinterest.org/blog/buzz/russias-t-72-tank-getting-blown-pieces-ukraine-211292
